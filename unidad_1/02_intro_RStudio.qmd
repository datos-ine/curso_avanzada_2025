---
title: "Primeros pasos y generalidades"
author:   
  - name: Christian Ballejo
    orcid: 0000-0002-7346-5701
  - name: Tamara Ricardo
    orcid: 0000-0002-0921-2611
---

```{r}
#| echo: false
source("../setup.R")
```

[![Artwork por \@allison_horst](images/cracked_setwd.png){fig-align="center" width="500" height="300"}](https://allisonhorst.com/)

## Introducci칩n a RStudio

RStudio Desktop [(2025, Posit Software)](https://posit.co/products/open-source/rstudio/) es un **entorno de desarrollo integrado** (*IDE*, por sus siglas en ingl칠s) dise침ado espec칤ficamente para trabajar con el lenguaje R.

Es una herramienta **multiplataforma y de c칩digo abierto** que facilita la programaci칩n, el an치lisis de datos y la elaboraci칩n de informes cient칤ficos. Ofrece una integraci칩n fluida con otros componentes del ecosistema de R, como R Markdown, Quarto, control de versiones (por ejemplo, Git) y la gesti칩n de proyectos.

RStudio presenta una interfaz unificada compuesta por distintos paneles, lo que permite organizar el trabajo de forma clara y eficiente:

![](images/rstudio.png){fig-align="center" width="95%"}

1.  **Editor de scripts** (*Source*): permite crear y editar scripts de R, as칤 como documentos R Markdown o Quarto.

2.  **Consola de R** (*Console*): muestra la salida del c칩digo ejecutado y ejecuta c칩digo de R de forma inmediata.

3.  **Entorno** (*Environment*): muestra los objetos creados durante la sesi칩n, como vectores, *dataframes* o funciones.

4.  **Panel de resultados** (*Output*): presenta los gr치ficos, tablas, visualizaciones en HTML y tambi칠n incluye un explorador de archivos, visor de paquetes instalados y panel de ayuda.

Para garantizar la reproducibilidad de los resultados, es recomendable evitar el guardado autom치tico del historial de objetos entre sesiones, ya que puede generar confusi칩n. Para desactivar esta opci칩n, ir a `Tools > Global Options` y desmarcar las casillas de las opciones **Workspace** y **History** como se muestra en la siguiente imagen:

![](images/global_opts.png){fig-align="center" width="600"}

## Proyectos de RStudio

Los proyectos de RStudio permiten organizar de forma estructurada todo el material asociado a un an치lisis: scripts, informes, bases de datos, im치genes, etc. Cada proyecto se vincula a una carpeta espec칤fica del sistema de archivos, y RStudio la utiliza como directorio de trabajo por defecto. Esta carpeta puede estar ubicada en cualquier parte del sistema de almacenamiento que deseemos (disco r칤gido, pendrive, disco externo, etc).

Trabajar con proyectos facilita la importaci칩n de datos y evita errores relacionados con rutas relativas o absolutas.

### Crear un proyecto

Para crear un nuevo proyecto, se puede utilizar el men칰 `File > New Project...`. Tambi칠n accedemos a generar un proyecto nuevo a partir de pulsar el acceso directo `New Project...` ubicado en la esquina superior derecha de la interfaz:

![](images/proyecto01.png){fig-align="center" width="600"}

En cualquiera de los dos casos aparecer치 un cuadro de di치logo que presenta tres opciones para crear el **nuevo proyecto** de RStudio:

![](images/proyecto02.png){fig-align="center"}

-   **New Directory**: crea una nueva carpeta para el proyecto a la que deberemos asignarle un nombre, es la opci칩n m치s habitual. Todos los archivos de configuraci칩n aparecer치n asociados a esta nueva carpeta.

-   **Existing Directory**: vincula el proyecto a una *carpeta ya existente* que contenga archivos previos con los que deseamos trabajar.

-   **Version Control**: permite clonar un repositorio (Git o SVN). Esta opci칩n no se utilizar치 durante el curso.

Una vez que creamos un nuevo proyecto con la opci칩n **New Directory**, aparecer치 una pantalla con una lista de tipos de proyectos que se pueden crear en RStudio:

![](images/proyecto03.png){fig-align="center"}

Durante este curso utilizaremos siempre la **primera opci칩n** (**New Project**). Las dem치s opciones est치n pensadas para usos m치s espec칤ficos, como el desarrollo de paquetes de R, sitios web o documentos con Quarto o R Markdown.

Al seleccionar **New Project**, se abrir치 una nueva ventana con los siguientes campos:

-   **Directory name:** aqu칤 debemos escribir el nombre del nuevo directorio (carpeta) que tambi칠n ser치 el nombre del proyecto. Por ejemplo, podemos llamarlo `Practicas_R`.

-   **Create project as subdirectory of:** este campo permite definir en qu칠 ubicaci칩n del sistema de archivos se guardar치 el proyecto. Podemos hacer clic en el bot칩n **Browse...** para abrir el explorador de archivos y seleccionar la carpeta contenedora. En nuestro ejemplo, lo ubicaremos dentro de **Mis Documentos**.

![](images/proyecto04.png){fig-align="center" width="479"}

Una vez completados estos campos, hacemos clic en **Create Project**.

Los proyectos en RStudio tienen entornos independientes, lo que significa que si cerramos un proyecto o cambiamos a otro, la configuraci칩n de cada uno se mantendr치 inalterable sin interferir con los dem치s.

Esto incluye los scripts abiertos, el directorio de trabajo, las pesta침as que dejamos activas y otros elementos del entorno que puedan ser necesarios para continuar con un an치lisis. Este sistema permite mantener organizados los distintos trabajos que llevamos adelante.

Echemos un vistazo a lo que RStudio realiz칩:

-   En primer lugar el panel **Files** (pantalla inferior derecha) apunta a la nueva carpeta **Practicas_R** y dentro de ella vemos un nuevo archivo el nombre del proyecto y la extensi칩n `.Rproj`. Este archivo contiene todas las configuraciones para su proyecto.

-   El otro cambio se observa en la parte superior derecha, que muestra el nombre del proyecto. Si hacemos click en 칠l, se desplegar치 el men칰 de proyectos. Desde aqu칤 se puede abrir y cerrar proyectos, navegar r치pidamente a proyectos que se han abierto recientemente y configurar las opciones de RStudio para cada uno de ellos.

![](images/proyecto05.png){fig-align="center"}

### Abrir un proyecto existente

Cuando el proyecto ya existe, sea porque lo creamos nosotros o porque alguien nos pas칩 una carpeta con un proyecto de RStudio creado vamos a visualizar dentro de esa carpeta un archivo con extensi칩n `.Rproj`.

La forma m치s veloz para abrir el proyecto es ejecutar este archivo (deber칤a abrir una sesi칩n de RStudio con el proyecto activo). La otra forma es desde el men칰 superior derecho de RStudio en la opci칩n **Open project...** y luego buscando en nuestro directorio el mismo archivo `.Rproj`.

::: {.callout-warning appearance="minimal"}
#### Nota

El men칰 de proyectos del 치rea superior derecha va guardando como elementos recientes los proyectos que se van abriendo y tambi칠n es una forma r치pida de acceder a ellos pulsando sobre estos atajos.
:::

## Scripts en RStudio

Como vimos [**anteriormente**](01_intro_R.qmd#scripts-de-r), un script es un archivo de c칩digo que contiene una secuencia de instrucciones escritas en R. Estos scripts pueden ser reutilizados, modificados y compartidos, lo que los convierte en una herramienta fundamental para garantizar la reproducibilidad del trabajo.

### Crear un nuevo script

Tenemos varias formas de crear un script nuevo:

-   Desde el men칰 superior: `File > New File > R Script`

-   Con el atajo de teclado: `Ctrl + Shift + N`

-   Desde la barra de herramientas: presionando el 칤cono ![](images/script_new.png)

### Ejecutar scripts

La forma habitual de ejecutar el contenido de un script es l칤nea por l칤nea, usando alguna de las siguientes opciones:

-   Presionando el bot칩n ![](images/script_run.png) del editor de c칩digo de RStudio

-   Mediante el atajo de teclado `Ctrl + Enter`

Para ejecutar una l칤nea, simplemente ubicamos el cursor en cualquier parte de ella y presionamos el comando correspondiente. Luego de ejecutarse, el cursor avanzar치 autom치ticamente a la siguiente l칤nea de c칩digo.

Mientras ejecutamos cada l칤nea debemos ir observando la salida en la consola (panel inferior izquierdo) y tambi칠n los cambios que se dan en el panel *Environment* (panel superior derecho) donde aparecer치n los objetos que vayamos creando y manipulando.

### Edici칩n de scripts

Modificar o agregar l칤neas al script puede hacerse directamente en el editor. Cada vez que realizamos un cambio, es necesario **volver a ejecutar la l칤nea** o bloque modificado para que los cambios se reflejen en el entorno de trabajo.

Podemos probar y modificar tantas veces como sea necesario. Sin embargo, debemos tener presente que cada manipulaci칩n en los objetos se mantiene hasta que se vuelvan a cambiar y a veces, cuando los objetos est치n vinculados con otras l칤neas de c칩digo posteriores tenemos que tener cuidado que se mantenga la consistencia del script.

Por ejemplo: si definimos un vector num칠rico para realizar c치lculos matem치ticos, pero luego lo sobrescribimos con un valor de tipo caracter, los c치lculos posteriores producir치n un error y RStudio nos informar치 de esto en la consola.

Por eso, es clave observar el contenido de los objetos en el panel **Environment**, lo que nos ayuda a evitar errores y operaciones incoherentes.

### Guardado de scripts

Cualquier agregado o modificaci칩n que hayamos realizado al script y nos interese mantener nos obligar치 a guardar el archivo de c칩digo editado.

Existen distintas formas de guardar un script:

-   Desde el men칰 superior: `File > Save`

-   Con el atajo de teclado: `Ctrl + S`

-   Presionando el 칤cono del disquete azul 游

Si en cambio quisiera guardarlo como otro archivo para mantener el script original, podemos guardarlo con diferente nombre o en otra ubicaci칩n mediante `File > Save As...`

### Abrir scripts existentes

Los scripts que construyamos o nos compartan siempre tendr치n extensi칩n `.R` y, por lo general, se encontrar치n dentro de un proyecto.

Para abrir estos archivos `.R` podemos:

-   Desde el men칰 superior: `File > Open file...`

-   Con el atajo de teclado: `Ctrl + O`

-   Haciendo click sobre el archivo desde el panel *Files*

-   Presionando el bot칩n de la carpeta amarilla 游늭

Esto abrir치 el script en una nueva pesta침a dentro del editor de c칩digo.

### 쮺칩mo trabajaremos en este curso?

En general, utilizaremos scripts dentro de **proyectos de RStudio**. La secuencia recomendada ser치:

1.  **Descargar** desde el Aula Virtual un archivo comprimido conteniendo la carpeta, el proyecto, los scripts y archivos de datos.

2.  **Descomprimir** el archivo en la ubicaci칩n que deseamos (recomendamos crear una carpeta destinada al curso).

3.  Abrir la carpeta y ejecutar el archivo de proyecto `.Rproj`.

4.  Una vez abierto RStudio con el proyecto activo, ubicamos los scripts desde el panel **Files**.

5.  **Ejecutar** cada l칤nea del script, leyendo la documentaci칩n del c칩digo y observando la salida en la consola y los cambios en el entorno

## Herramientas de RStudio

Algunas de las herramientas fundamentales de RStudio son el asistente de c칩digo, la ayuda en l칤nea y el historial de comandos.

### Asistente de c칩digo

Al escribir en el editor o la consola, la tecla `Tab` activa el autocompletado de funciones, nombres de objetos y argumentos, agilizando la escritura y reduciendo errores de sintaxis. En versiones recientes, el asistente tambi칠n permite la previsualizaci칩n de colores en los gr치ficos, resaltar los par칠ntesis de cierre en funciones anidadas con distintos colores y gestionar autom치ticamente la indentaci칩n del c칩digo.

![](images/asistente.png){fig-align="center" width="600"}

Muchas de estas opciones se pueden configurar desde el men칰 `Code` y desde `Tools > Global Options > Code`(pesta침as **Editing** y **Display**).

![](images/code_display.png){fig-align="center"}

### Ayuda en l칤nea

Al posicionar el cursor sobre el nombre de una funci칩n en el editor y presionar `F1`, se accede directamente a la documentaci칩n correspondiente en el panel **Help** (habitualmente ubicado en la esquina inferior derecha).

![](images/help.png){fig-align="center" width="600"}

### Historial de comandos

En la consola, al usar las teclas de flecha arriba/abajo, se puede navegar por los comandos ejecutados durante la sesi칩n actual. Adem치s, el panel **History** (parte superior derecha) almacena los comandos de todas las sesiones previas, permitiendo reutilizarlos con un clic en **To Console** (`Enter`) o **To Source** (`Shift + Enter`), seg칰n se desee insertarlos en la consola o en el script activo.

![](images/historial.png){fig-align="center" width="600"}

## Atajos de teclado (Windows)

```{r}
#| echo: false
tibble(
  "Men칰" = c("Archivo (File)",
             "Ctrl + Shift + N",
             "Ctrl + O",
             "Ctrl + S",
             "Ctrl + W",
             "Ctrl + Q",
             "Edici칩n (Edit)",
             "Ctrl + F",
             "Ctrl + L",
             "C칩digo (Code)",
             "Ctrl + Enter",
             "Ctrl + Alt + R",
             "Ctrl + Shift + N",
             "Ctrl + Shift + R",
             "Sesi칩n (Session)",
             "Ctrl + Shift + H",
             "Ctrl + Shift + F10",
             "Herramientas (Tools)",
             "Alt + Shift + K"),
  
  "Descripci칩n" = c("",
                    "Crea un nuevo script",
                    "Abre un script guardado",
                    "Guarda el script activo",
                    "Cierra el script activo",
                    "Sale del programa RStudio",
                    "",
                    "Abre la ventana de b칰squeda (para buscar palabras dentro de un script)",
                    "Limpia la consola",
                    "",
                    "Ejecuta la l칤nea de c칩digo donde est치 situado el cursor",
                    "Ejecuta todo el c칩digo del script activo",
                    "Inserta nueva secci칩n de c칩digo",
                    "Inserta nueva secci칩n de comentarios de texto",
                    "",
                    "Abre la ventana para establecer directorio de trabajo",
                    "Reinicia la sesi칩n de R",
                    "",
                    "Abre la lista de ayuda de atajos de teclado"
                    )
) |> 
  
  # Tabla
  kbl_format()
```

## Paquetes

Existen dos formas principales de descargar paquetes: directamente desde RStudio o desde el [**sitio web de CRAN**](https://cran.r-project.org/web/packages/), descarg치ndolos como archivos comprimidos. Si el equipo cuenta con conexi칩n a Internet, lo m치s pr치ctico es realizar la descarga directamente desde RStudio. En cambio, si no se dispone de acceso permanente a la red, es posible descargar los paquetes desde otro equipo y luego transferirlos como archivos `.zip` o `.tar.gz` al equipo donde se encuentra instalado R.

Cuando accedemos al sitio web de CRAN y buscamos un paquete espec칤fico, encontraremos informaci칩n 칰til como una breve descripci칩n del paquete, el n칰mero de versi칩n, la fecha de publicaci칩n, el nombre del autor, documentaci칩n asociada y enlaces de descarga espec칤ficos para cada sistema operativo.

Dado que la mayor칤a de las computadoras hoy en d칤a cuentan con acceso a Internet, en este curso nos enfocaremos en la instalaci칩n y activaci칩n de paquetes directamente desde RStudio.

Dentro del entorno de RStudio, la gesti칩n de paquetes se realiza desde la pesta침a *Packages*, ubicada en el panel inferior derecho. Esta interfaz facilita tareas como la instalaci칩n, actualizaci칩n y activaci칩n de paquetes, y cada acci칩n que realizamos desde la interfaz gr치fica se traduce internamente en la ejecuci칩n de funciones del lenguaje R que pueden observarse en la consola.

Para instalar un paquete nuevo, simplemente pulsamos el bot칩n *Install* dentro de la pesta침a *Packages*, lo cual abrir치 una ventana emergente.

![](images/rstudio_paquetes01.png){fig-align="center"}

All칤 podemos escribir el nombre del paquete que deseamos instalar. Para asegurarnos de que tambi칠n se descarguen e instalen autom치ticamente los paquetes de los que depende, es importante tildar la opci칩n *Install dependencies*.

![](images/rstudio_paquetes02.png){fig-align="center"}

Como alternativa, tambi칠n podemos realizar la instalaci칩n desde el editor de scripts mediante el siguiente comando:

```{r}
#| eval: false
install.packages("nombre_del_paquete", 
                 dependencies = TRUE)
```

::: {.callout-note appearance="minimal" icon="false"}
Para facilitar la instalaci칩n de los paquetes requeridos durante el curso, recomendamos descargar el archivo **"[Paquetes y datos para el curso](../files/datos_y_paquetes.zip)"**, descomprimirlo y ejecutar el script que se encuentra en su interior.
:::

## Lectura de archivos de datos

R permite importar tablas de datos desde diversos formatos, tanto utilizando funciones de **R base** como funciones provistas por paquetes espec칤ficos.

El formato m치s com칰n es el **texto plano** (ASCII), donde los valores est치n organizados en columnas separadas por caracteres delimitadores. Los separadores m치s habituales incluyen:

-   Coma (`,`)

-   Punto y coma (`;`)

-   Tabulaci칩n (`\t`)

-   Barra vertical (`|`)

Estos archivos suelen tener una **cabecera** (*header*) en la primera fila con los nombres de las variables, y cada columna debe contener datos del mismo tipo (n칰meros, texto, l칩gicos, etc.).

Para importar correctamente un archivo es importante conocer su estructura:

-   Si incluye o no cabecera.

-   Qu칠 car치cter se usa como separador.

-   El tipo de codificaci칩n (UTF-8, Latin1, etc.).

Dado que son archivos de texto, pueden visualizarse con editores simples como el Bloc de Notas o desde RStudio, lo que facilita su inspecci칩n previa.

Para cargar los datos desde un archivo de texto plano usamos el c칩digo:

```{r}
#| eval: false
datos <- read.xxx("mis_datos.xxx")
```

(Se debe reemplazar `read.xxx()` por la funci칩n correspondiente: `read.table()`, `read.csv()`, `read_delim()`, `read_excel()`, etc., seg칰n la extensi칩n del archivo).

R tambi칠n permite cargar bases de datos incluidas en paquetes instalados mediante:

```{r}
#| eval: false
data(nombre_datos)

datos <- nombre_datos
```

## Buenas pr치cticas

Adoptar buenas pr치cticas desde el inicio mejora la reproducibilidad, facilita el trabajo colaborativo y reduce errores. Algunas recomendaciones clave son:

-   Trabajar **siempre** dentro de un **proyecto de RStudio** (`.Rproj`). Esto permite organizar los archivos, mantener rutas relativas consistentes y acceder a funcionalidades espec칤ficas como control de versiones o panel de archivos integrados.

-   Incluir al comienzo de cada script las l칤neas de **activaci칩n de paquetes** necesarios, utilizando la funci칩n `library()`.

-   **Cargar los datos** una vez activados los paquetes, para garantizar que todas las funciones requeridas est칠n disponibles.

-   Documentar el c칩digo mediante **comentarios** iniciados con `#`. Esto permite entender qu칠 hace cada bloque de c칩digo, facilitando futuras modificaciones o revisiones.

-   **Usar espacios e indentaci칩n adecuada** para mejorar la legibilidad. Esto es especialmente importante en estructuras anidadas (como condicionales, bucles o funciones).
