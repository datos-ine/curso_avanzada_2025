---
title: "Primeros pasos y generalidades"
author:   
  - name: Christian Ballejo
    orcid: 0000-0002-7346-5701
  - name: Tamara Ricardo
    orcid: 0000-0002-0921-2611
---

```{r}
#| echo: false
source("../setup.R")
```

[![Artwork por \@allison_horst](images/cracked_setwd.png){fig-align="center" width="500" height="300"}](https://allisonhorst.com/)

## Introducci√≥n a RStudio

RStudio Desktop [(2025, Posit Software)](https://posit.co/products/open-source/rstudio/) es un **entorno de desarrollo integrado** (*IDE*, por sus siglas en ingl√©s) dise√±ado espec√≠ficamente para trabajar con el lenguaje R.

Es una herramienta **multiplataforma y de c√≥digo abierto** que facilita la programaci√≥n, el an√°lisis de datos y la elaboraci√≥n de informes cient√≠ficos. Ofrece una integraci√≥n fluida con otros componentes del ecosistema de R, como R Markdown, Quarto, control de versiones (por ejemplo, Git) y la gesti√≥n de proyectos.

RStudio presenta una interfaz unificada compuesta por distintos paneles, lo que permite organizar el trabajo de forma clara y eficiente:

![](images/rstudio.png){fig-align="center" width="95%"}

1.  **Editor de scripts** (*Source*): permite crear y editar scripts de R, as√≠ como documentos R Markdown o Quarto.

2.  **Consola de R** (*Console*): muestra la salida del c√≥digo ejecutado y ejecuta c√≥digo de R de forma inmediata.

3.  **Entorno** (*Environment*): muestra los objetos creados durante la sesi√≥n, como vectores, dataframes o funciones.

4.  **Panel de resultados** (*Output*): presenta los gr√°ficos, tablas, visualizaciones en HTML y tambi√©n incluye un explorador de archivos, visor de paquetes instalados y panel de ayuda.

Para garantizar la reproducibilidad de los resultados, es recomendable evitar el guardado autom√°tico del historial de objetos entre sesiones, ya que puede generar confusi√≥n. Para desactivar esta opci√≥n, ir a `Tools > Global Options` y desmarcar las casillas de las opciones **Workspace** y **History** como se muestra en la siguiente imagen:

![](images/global_opts.png){fig-align="center" width="600"}

## Proyectos de RStudio

Los proyectos de RStudio permiten organizar de forma estructurada todo el material asociado a un an√°lisis: scripts, informes, bases de datos, im√°genes, etc. Cada proyecto se vincula a una carpeta espec√≠fica del sistema de archivos, y RStudio la utiliza como directorio de trabajo por defecto. Esta carpeta puede estar ubicada en cualquier parte del sistema de almacenamiento que deseemos (disco r√≠gido, pendrive, disco externo, etc).

Trabajar con proyectos facilita la importaci√≥n de datos y evita errores relacionados con rutas relativas o absolutas.

### Crear un proyecto

Para crear un nuevo proyecto, se puede utilizar el men√∫ `File > New Project...`. Tambi√©n accedemos a generar un proyecto nuevo a partir de pulsar el acceso directo `New Project...` ubicado en la esquina superior derecha de la interfaz:

![](images/proyecto01.png){fig-align="center" width="600"}

En cualquiera de los dos casos aparecer√° un cuadro de di√°logo que presenta tres opciones para crear el **nuevo proyecto** de RStudio:

![](images/proyecto02.png){fig-align="center"}

-   **New Directory**: crea una nueva carpeta para el proyecto a la que deberemos asignarle un nombre, es la opci√≥n m√°s habitual. Todos los archivos de configuraci√≥n aparecer√°n asociados a esta nueva carpeta.

-   **Existing Directory**: vincula el proyecto a una *carpeta ya existente* que contenga archivos previos con los que deseamos trabajar.

-   **Version Control**: permite clonar un repositorio (Git o SVN). Esta opci√≥n no se utilizar√° durante el curso.

Una vez que creamos un nuevo proyecto con la opci√≥n **New Directory**, aparecer√° una pantalla con una lista de tipos de proyectos que se pueden crear en RStudio:

![](images/proyecto03.png){fig-align="center" width="479"}

Durante este curso utilizaremos siempre la **primera opci√≥n** (New Project). Las dem√°s opciones est√°n pensadas para usos m√°s espec√≠ficos, como el desarrollo de paquetes de R, sitios web o documentos con Quarto o R Markdown.

Al seleccionar **New Project**, se abrir√° una nueva ventana con los siguientes campos:

-   **Directory name:** aqu√≠ debemos escribir el nombre del nuevo directorio (carpeta) que tambi√©n ser√° el nombre del proyecto. Por ejemplo, podemos llamarlo `Practicas_R`.

-   **Create project as subdirectory of:** este campo permite definir en qu√© ubicaci√≥n del sistema de archivos se guardar√° el proyecto. Podemos hacer clic en el bot√≥n **Browse...** para abrir el explorador de archivos y seleccionar la carpeta contenedora. En nuestro ejemplo, lo ubicaremos dentro de **Mis Documentos**.

![](images/proyecto04.png){fig-align="center" width="479"}

Una vez completados estos campos, hacemos clic en **Create Project**.

Los proyectos en RStudio tienen entornos independientes, lo que significa que si cerramos un proyecto o cambiamos a otro, la configuraci√≥n de cada uno se mantendr√° inalterable sin interferir con los dem√°s.

Esto incluye los scripts abiertos, el directorio de trabajo, las pesta√±as que dejamos activas y otros elementos del entorno que puedan ser necesarios para continuar con un an√°lisis. Este sistema permite mantener organizados los distintos trabajos que llevamos adelante.

Echemos un vistazo a lo que RStudio realiz√≥:

-   En primer lugar el panel **Files** (pantalla inferior derecha) apunta a la nueva carpeta **Practicas_R** y dentro de ella vemos un nuevo archivo el nombre del proyecto y la extensi√≥n `.Rproj`. Este archivo contiene todas las configuraciones para su proyecto.

-   El otro cambio se observa en la parte superior derecha, que muestra el nombre del proyecto. Si hacemos click en √©l, se desplegar√° el men√∫ de proyectos. Desde aqu√≠ se puede abrir y cerrar proyectos, navegar r√°pidamente a proyectos que se han abierto recientemente y configurar las opciones de RStudio para cada uno de ellos.

![](images/proyecto_05.png){fig-align="center" width="85%"}

### Abrir un proyecto existente

Cuando el proyecto ya existe, sea porque lo creamos nosotros o porque alguien nos pas√≥ una carpeta con un proyecto de RStudio creado vamos a visualizar dentro de esa carpeta un archivo con extensi√≥n `.Rproj`.

La forma m√°s veloz para abrir el proyecto es ejecutar este archivo (deber√≠a abrir una sesi√≥n de RStudio con el proyecto activo). La otra forma es desde el men√∫ superior derecho de RStudio en la opci√≥n **Open project...** y luego buscando en nuestro directorio el mismo archivo `.Rproj`.

::: {.callout-warning appearance="minimal"}
#### Nota

El men√∫ de proyectos del √°rea superior derecha va guardando como elementos recientes los proyectos que se van abriendo y tambi√©n es una forma r√°pida de acceder a ellos pulsando sobre estos atajos.
:::

## Scripts en RStudio

Como vimos [anteriormente](intro_R.qmd#scripts-de-r), un script es un archivo de c√≥digo que contiene una secuencia de instrucciones escritas en R. Estos scripts pueden ser reutilizados, modificados y compartidos, lo que los convierte en una herramienta fundamental para garantizar la reproducibilidad del trabajo.

### Crear un nuevo script

Tenemos varias formas de crear un script nuevo:

-   Desde el men√∫ superior: `File > New File > R Script`

-   Con el atajo de teclado: `Ctrl + Shift + N`

-   Desde la barra de herramientas: presionando el √≠cono ![](images/script_new.png)

### Ejecutar scripts

La forma habitual de ejecutar el contenido de un script es l√≠nea por l√≠nea, usando alguna de las siguientes opciones:

-   Presionando el bot√≥n ![](images/script_run.png) del editor de c√≥digo de RStudio

-   Mediante el atajo de teclado `Ctrl + Enter`

Para ejecutar una l√≠nea, simplemente ubicamos el cursor en cualquier parte de ella y presionamos el comando correspondiente. Luego de ejecutarse, el cursor avanzar√° autom√°ticamente a la siguiente l√≠nea de c√≥digo.

Mientras ejecutamos cada l√≠nea debemos ir observando la salida en la consola (panel inferior izquierdo) y tambi√©n los cambios que se dan en el panel *Environment* (panel superior derecho) donde aparecer√°n los objetos que vayamos creando y manipulando.

### Edici√≥n de scripts

Modificar o agregar l√≠neas al script puede hacerse directamente en el editor. Cada vez que realizamos un cambio, es necesario **volver a ejecutar la l√≠nea** o bloque modificado para que los cambios se reflejen en el entorno de trabajo.

Podemos probar y modificar tantas veces como sea necesario. Sin embargo, debemos tener presente que cada manipulaci√≥n en los objetos se mantiene hasta que se vuelvan a cambiar y a veces, cuando los objetos est√°n vinculados con otras l√≠neas de c√≥digo posteriores tenemos que tener cuidado que se mantenga la consistencia del script.

Por ejemplo: si definimos un vector num√©rico para realizar c√°lculos matem√°ticos, pero luego lo sobrescribimos con un valor de tipo caracter, los c√°lculos posteriores producir√°n un error y RStudio nos informar√° de esto en la consola.

Por eso, es clave observar el contenido de los objetos en el panel **Environment**, lo que nos ayuda a evitar errores y operaciones incoherentes.

### Guardado de scripts

Cualquier agregado o modificaci√≥n que hayamos realizado al script y nos interese mantener nos obligar√° a guardar el archivo de c√≥digo editado.

Existen distintas formas de guardar un script:

-   Desde el men√∫ superior: `File > Save`

-   Con el atajo de teclado: `Ctrl + S`

-   Presionando el √≠cono del disquete azul üíæ

Si en cambio quisiera guardarlo como otro archivo para mantener el script original, podemos guardarlo con diferente nombre o en otra ubicaci√≥n mediante `File > Save As...`

### Abrir scripts existentes

Los scripts que construyamos o nos compartan siempre tendr√°n extensi√≥n `.R` y, por lo general, se encontrar√°n dentro de un proyecto.

Para abrir estos archivos `.R` podemos:

-   Desde el men√∫ superior: `File > Open file...`

-   Con el atajo de teclado: `Ctrl + O`

-   Haciendo click sobre el archivo desde el panel *Files*

-   Presionando el bot√≥n de la carpeta amarilla üìÇ

Esto abrir√° el script en una nueva pesta√±a dentro del editor de c√≥digo.

### ¬øC√≥mo trabajaremos en este curso?

En general, utilizaremos scripts dentro de **proyectos de RStudio**. La secuencia recomendada ser√°:

1.  **Descargar** desde el Aula Virtual un archivo comprimido conteniendo la carpeta, el proyecto, los scripts y archivos de datos.

2.  **Descomprimir** el archivo en la ubicaci√≥n que deseamos (recomendamos crear una carpeta destinada al curso).

3.  Abrir la carpeta y ejecutar el archivo de proyecto `.Rproj`.

4.  Una vez abierto RStudio con el proyecto activo, ubicamos los scripts desde el panel **Files**.

5.  **Ejecutar** cada l√≠nea del script, leyendo la documentaci√≥n del c√≥digo y observando la salida en la consola y los cambios en el entorno

## Herramientas de RStudio

Algunas de las herramientas fundamentales de RStudio son el asistente de c√≥digo, la ayuda en l√≠nea y el historial de comandos.

### Asistente de c√≥digo

Al escribir en el editor o la consola, la tecla `Tab` activa el autocompletado de funciones, nombres de objetos y argumentos, agilizando la escritura y reduciendo errores de sintaxis. En versiones recientes, el asistente tambi√©n permite la previsualizaci√≥n de colores en los gr√°ficos, resaltar los par√©ntesis de cierre en funciones anidadas con distintos colores y gestionar autom√°ticamente la indentaci√≥n del c√≥digo.

![](images/asistente.png){fig-align="center" width="600"}

Muchas de estas opciones se pueden configurar desde el men√∫ `Code` y desde `Tools > Global Options > Code`(pesta√±as **Editing** y **Format**).

### Ayuda en l√≠nea

Al posicionar el cursor sobre el nombre de una funci√≥n en el editor y presionar `F1`, se accede directamente a la documentaci√≥n correspondiente en el panel **Help** (habitualmente ubicado en la esquina inferior derecha).

![](images/help.png){fig-align="center" width="600"}

### Historial de comandos

En la consola, al usar las teclas de flecha arriba/abajo, se puede navegar por los comandos ejecutados durante la sesi√≥n actual. Adem√°s, el panel **History** (parte superior derecha) almacena los comandos de todas las sesiones previas, permitiendo reutilizarlos con un clic en **To Console** (`Enter`) o **To Source** (`Shift + Enter`), seg√∫n se desee insertarlos en la consola o en el script activo.

![](images/historial.png){fig-align="center" width="600"}

## Atajos de teclado (Windows)

```{r}
#| echo: false
tibble(
  "Men√∫" = c("Archivo (File)",
             "Ctrl + Shift + N",
             "Ctrl + O",
             "Ctrl + S",
             "Ctrl + W",
             "Ctrl + Q",
             "Edici√≥n (Edit)",
             "Ctrl + F",
             "Ctrl + L",
             "C√≥digo (Code)",
             "Ctrl + Enter",
             "Ctrl + Alt + R",
             "Ctrl + Shift + N",
             "Ctrl + Shift + R",
             "Sesi√≥n (Session)",
             "Ctrl + Shift + H",
             "Ctrl + Shift + F10",
             "Herramientas (Tools)",
             "Alt + Shift + K"),
  
  "Descripci√≥n" = c("",
                    "Crea un nuevo script",
                    "Abre un script guardado",
                    "Guarda el script activo",
                    "Cierra el script activo",
                    "Sale del programa RStudio",
                    "",
                    "Abre la ventana de b√∫squeda (para buscar palabras dentro de un script)",
                    "Limpia la consola",
                    "",
                    "Ejecuta la l√≠nea de c√≥digo donde est√° situado el cursor",
                    "Ejecuta todo el c√≥digo del script activo",
                    "Inserta nueva secci√≥n de c√≥digo",
                    "Inserta nueva secci√≥n de comentarios de texto",
                    "",
                    "Abre la ventana para establecer directorio de trabajo",
                    "Reinicia la sesi√≥n de R",
                    "",
                    "Abre la lista de ayuda de atajos de teclado"
                    )
) |> 
  
  # Tabla
  kbl() |> 
  kable_paper(html_font = "Calibri") |>
  row_spec(row = c(0, 1, 7, 10, 15, 18),
           background = "#2f2e4e", color = "white")
```

## Paquetes

Existen dos formas principales de descargar paquetes: directamente desde RStudio o desde el [sitio web de CRAN](https://cran.r-project.org/web/packages/), descarg√°ndolos como archivos comprimidos. Si el equipo cuenta con conexi√≥n a Internet, lo m√°s pr√°ctico es realizar la descarga directamente desde RStudio. En cambio, si no se dispone de acceso permanente a la red, es posible descargar los paquetes desde otro equipo y luego transferirlos como archivos `.zip` o `.tar.gz` al equipo donde se encuentra instalado R.

Cuando accedemos al sitio web de CRAN y buscamos un paquete espec√≠fico, encontraremos informaci√≥n √∫til como una breve descripci√≥n del paquete, el n√∫mero de versi√≥n, la fecha de publicaci√≥n, el nombre del autor, documentaci√≥n asociada y enlaces de descarga espec√≠ficos para cada sistema operativo.

Dado que la mayor√≠a de las computadoras hoy en d√≠a cuentan con acceso a Internet, en este curso nos enfocaremos en la instalaci√≥n y activaci√≥n de paquetes directamente desde RStudio.

Dentro del entorno de RStudio, la gesti√≥n de paquetes se realiza desde la pesta√±a *Packages*, ubicada en el panel inferior derecho. Esta interfaz facilita tareas como la instalaci√≥n, actualizaci√≥n y activaci√≥n de paquetes, y cada acci√≥n que realizamos desde la interfaz gr√°fica se traduce internamente en la ejecuci√≥n de funciones del lenguaje R que pueden observarse en la consola.

Para instalar un paquete nuevo, simplemente pulsamos el bot√≥n *Install* dentro de la pesta√±a *Packages*, lo cual abrir√° una ventana emergente.

![](images/rstudio_paquetes01.png){fig-align="center"}

All√≠ podemos escribir el nombre del paquete que deseamos instalar. Para asegurarnos de que tambi√©n se descarguen e instalen autom√°ticamente los paquetes de los que depende, es importante tildar la opci√≥n *Install dependencies*.

![](images/rstudio_paquetes02.png){fig-align="center"}

Como alternativa, tambi√©n podemos realizar la instalaci√≥n desde el editor de scripts mediante el siguiente comando:

```{r}
#| eval: false
install.packages("nombre_del_paquete", 
                 dependencies = TRUE)
```

::: {.callout-note appearance="minimal" icon="false"}
Para facilitar la instalaci√≥n de los paquetes requeridos durante el curso, recomendamos descargar el archivo **"Paquetes de R necesarios"**, descomprimirlo y ejecutar el script que se encuentra en su interior.
:::

## Lectura de archivos de datos

R permite importar tablas de datos desde diversos formatos, tanto utilizando funciones de **R base** como funciones provistas por paquetes espec√≠ficos.

El formato m√°s com√∫n es el **texto plano** (ASCII), donde los valores est√°n organizados en columnas separadas por caracteres delimitadores. Los separadores m√°s habituales incluyen:

-   Coma (`,`)

-   Punto y coma (`;`)

-   Tabulaci√≥n (`\t`)

-   Barra vertical (`|`)

Estos archivos suelen tener una **cabecera** (*header*) en la primera fila con los nombres de las variables, y cada columna debe contener datos del mismo tipo (n√∫meros, texto, l√≥gicos, etc.).

Para importar correctamente un archivo es importante conocer su estructura:

-   Si incluye o no cabecera.

-   Qu√© car√°cter se usa como separador.

-   El tipo de codificaci√≥n (UTF-8, Latin1, etc.).

Dado que son archivos de texto, pueden visualizarse con editores simples como el Bloc de Notas o desde RStudio, lo que facilita su inspecci√≥n previa.

Para cargar los datos desde un archivo de texto plano usamos el c√≥digo:

```{r}
#| eval: false
datos <- read.xxx("mis_datos.xxx")
```

(Se debe reemplazar `read.xxx()` por la funci√≥n correspondiente: `read.table()`, `read.csv()`, `read_delim()`, `read_excel()`, etc., seg√∫n la extensi√≥n del archivo).

R tambi√©n permite cargar bases de datos incluidas en paquetes instalados mediante:

```{r}
#| eval: false
data(nombre_datos)

datos <- nombre_datos
```

## Buenas pr√°cticas

Adoptar buenas pr√°cticas desde el inicio mejora la reproducibilidad, facilita el trabajo colaborativo y reduce errores. Algunas recomendaciones clave son:

-   Trabajar **siempre** dentro de un **proyecto de RStudio** (`.Rproj`). Esto permite organizar los archivos, mantener rutas relativas consistentes y acceder a funcionalidades espec√≠ficas como control de versiones o panel de archivos integrados.

-   Incluir al comienzo de cada script las l√≠neas de **activaci√≥n de paquetes** necesarios, utilizando la funci√≥n `library()`.

-   **Cargar los datos** una vez activados los paquetes, para garantizar que todas las funciones requeridas est√©n disponibles.

-   Documentar el c√≥digo mediante **comentarios** iniciados con `#`. Esto permite entender qu√© hace cada bloque de c√≥digo, facilitando futuras modificaciones o revisiones.

-   **Usar espacios e indentaci√≥n adecuada** para mejorar la legibilidad. Esto es especialmente importante en estructuras anidadas (como condicionales, bucles o funciones).

Una gu√≠a de estilo ampliamente recomendada ‚Äîaunque no oficial‚Äî es la de `tidyverse`. Incluye ejemplos concretos de buenas y malas pr√°cticas para nombrar variables, manejar l√≠neas largas, usar sangr√≠as, entre otros aspectos. Al [**final de la unidad**](hoja_estilo.qmd) incluimos una versi√≥n resumida de la misma, pero puede consultarse completa en:

‚û°Ô∏è <https://style.tidyverse.org/>
