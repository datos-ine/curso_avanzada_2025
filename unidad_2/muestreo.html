<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Andrea Silva">
<title>Selección de la muestra – Curso Epidemiología - Nivel Avanzado</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script><script src="../site_libs/kePrint-0.0.1/kePrint.js"></script><link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<style type="text/css">
.quarto-reader-toggle .bi::before, .quarto-color-scheme-toggle .bi::before {
  display: inline-block;
  height: 40px;
  width: 40px;
  background-size: 20px 20px;
  background-position: center;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgba(189, 195, 199, 1)" class="bi bi-moon-stars-fill" viewbox="0 0 16 16"> <path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278"></path> <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.73 1.73 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.73 1.73 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.73 1.73 0 0 0 1.097-1.097zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z"></path> </svg>') !important;
}
</style>
<script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script><link rel="stylesheet" href="../styles.css">
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><div id="quarto-announcement" data-announcement-id="4ab7ce5ee7c696df0f91065161a52a26" class="alert alert-dark hidden">
<i class="bi bi-file-pdf-fill quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p>Guardar como PDF: presione <strong>CTRL</strong> + <strong>P</strong></p>
</div>
<i class="bi bi-x-lg quarto-announcement-action"></i>
</div>
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Navegación de palanca" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-curso-de-epidemiología-nivel-avanzado" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Curso de Epidemiología: Nivel Avanzado</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-curso-de-epidemiología-nivel-avanzado">
<li>
    <a class="dropdown-item" href="../unidad_1/intro_R.html">
 <span class="dropdown-text">Unidad 1: Introducción a R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../unidad_2/est_epidemio.html">
 <span class="dropdown-text">Unidad 2: Estudios transversales</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../unidad_3/est_ecologicos.html">
 <span class="dropdown-text">Unidad 3: Estudios ecológicos</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../unidad_4/est_caso_control.html">
 <span class="dropdown-text">Unidad 4: Estudios de casos y controles</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../unidad_5/est_cohortes.html">
 <span class="dropdown-text">Unidad 5: Estudios de cohortes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../unidad_6/est_experimentales.html">
 <span class="dropdown-text">Unidad 6: Estudios experimentales</span></a>
  </li>  
    </ul>
</li>
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-descargas" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-cloud-download" role="img">
</i> 
 <span class="menu-text">Descargas</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-descargas">
<li>
    <a class="dropdown-item" href="https://cran.rstudio.com/bin/windows/" target="_blank"><i class="bi bi-windows" role="img">
</i> 
 <span class="dropdown-text">R para Windows</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://cran.rstudio.com/bin/macosx/" target="_blank"><i class="bi bi-apple" role="img">
</i> 
 <span class="dropdown-text">R para macOS</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://cran.rstudio.com/bin/linux/" target="_blank"><i class="bi bi-ubuntu" role="img">
</i> 
 <span class="dropdown-text">R para Linux</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://posit.co/download/rstudio-desktop/" target="_blank"><i class="bi bi-terminal" role="img">
</i> 
 <span class="dropdown-text">RStudio Desktop</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://cran.r-project.org/bin/windows/Rtools/" target="_blank"><i class="bi bi-terminal" role="img">
</i> 
 <span class="dropdown-text">RTools</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../files/datos_y_paquetes.zip"><i class="bi bi-file-zip" role="img">
</i> 
 <span class="dropdown-text">Paquetes y datos para el curso</span></a>
  </li>  
    </ul>
</li>
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Alternar modo oscuro"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Selección de la muestra</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Buscar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true"><i class="bi bi-file-earmark-bar-graph" role="img">
</i> 
 <span class="menu-text">Unidad 1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unidad_1/intro_R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introducción a R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unidad_1/intro_RStudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Primeros pasos y generalidades</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unidad_1/intro_tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introducción a tidyverse</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unidad_1/analisis_exploratorio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Análisis exploratorio de datos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../unidad_1/hoja_estilo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hoja de Estilo del lenguaje R</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Contenidos</h2>
   
  <ul>
<li><a href="#introducci%C3%B3n" id="toc-introducción" class="nav-link active" data-scroll-target="#introducci%C3%B3n">Introducción</a></li>
  <li><a href="#c%C3%A1lculo-del-tama%C3%B1o-muestral" id="toc-cálculo-del-tamaño-muestral" class="nav-link" data-scroll-target="#c%C3%A1lculo-del-tama%C3%B1o-muestral">Cálculo del tamaño muestral</a></li>
  <li>
<a href="#conceptos-generales-sobre-muestreo" id="toc-conceptos-generales-sobre-muestreo" class="nav-link" data-scroll-target="#conceptos-generales-sobre-muestreo">Conceptos generales sobre muestreo</a>
  <ul class="collapse">
<li><a href="#muestreo-aleatorio-simple-mas" id="toc-muestreo-aleatorio-simple-mas" class="nav-link" data-scroll-target="#muestreo-aleatorio-simple-mas">Muestreo aleatorio simple (MAS)</a></li>
  <li><a href="#muestreo-sistem%C3%A1tico-ms" id="toc-muestreo-sistemático-ms" class="nav-link" data-scroll-target="#muestreo-sistem%C3%A1tico-ms">Muestreo sistemático (MS)</a></li>
  <li><a href="#muestreo-aleatorio-estratificado-mae" id="toc-muestreo-aleatorio-estratificado-mae" class="nav-link" data-scroll-target="#muestreo-aleatorio-estratificado-mae">Muestreo aleatorio estratificado (MAE)</a></li>
  <li><a href="#muestreo-por-conglomerados-monoet%C3%A1pico" id="toc-muestreo-por-conglomerados-monoetápico" class="nav-link" data-scroll-target="#muestreo-por-conglomerados-monoet%C3%A1pico">Muestreo por conglomerados monoetápico</a></li>
  <li><a href="#muestreo-por-conglomerados-biet%C3%A1pico" id="toc-muestreo-por-conglomerados-bietápico" class="nav-link" data-scroll-target="#muestreo-por-conglomerados-biet%C3%A1pico">Muestreo por conglomerados bietápico</a></li>
  <li><a href="#implicaciones-en-la-estimaci%C3%B3n-y-ponderaci%C3%B3n" id="toc-implicaciones-en-la-estimación-y-ponderación" class="nav-link" data-scroll-target="#implicaciones-en-la-estimaci%C3%B3n-y-ponderaci%C3%B3n">Implicaciones en la Estimación y Ponderación</a></li>
  </ul>
</li>
  <li>
<a href="#ejemplo-pr%C3%A1ctico" id="toc-ejemplo-práctico" class="nav-link" data-scroll-target="#ejemplo-pr%C3%A1ctico">Ejemplo práctico</a>
  <ul class="collapse">
<li><a href="#c%C3%A1lculo-de-las-probabilidades-de-selecci%C3%B3n-y-ponderaciones" id="toc-cálculo-de-las-probabilidades-de-selección-y-ponderaciones" class="nav-link" data-scroll-target="#c%C3%A1lculo-de-las-probabilidades-de-selecci%C3%B3n-y-ponderaciones">Cálculo de las Probabilidades de Selección y Ponderaciones</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">Selección de la muestra</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor/a</div>
    <div class="quarto-title-meta-contents">
             <p>Andrea Silva <a href="https://orcid.org/0000-0002-4791-9706" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
          </div>
  </div>
    
  
    
  </div>
  


</header><section id="introducción" class="level2"><h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>Toda investigación epidemiológica requiere, en principio, la selección de una muestra representativa de la población objeto de estudio. Esto implica:</p>
<ul>
<li><p>Determinar el tamaño de la muestra.</p></li>
<li><p>Definir cómo se seleccionarán los sujetos (es decir, las unidades de análisis).</p></li>
<li><p>Calcular la incertidumbre que introduce este proceso de muestreo en nuestras estimaciones.</p></li>
</ul>
<p>El tamaño de la muestra se establece en la fase de diseño del estudio, habitualmente cuando se redacta el protocolo de investigación. Es importante considerar que este tamaño es, en cierto sentido, orientador, ya que su cálculo depende de factores que en ocasiones pueden ser subjetivos o estar limitados por la información previa disponible. Además, las exigencias varían según el objetivo del estudio. Por ejemplo:</p>
<ul>
<li><p>En un estudio transversal, donde se estima una prevalencia, se puede aceptar una precisión menor.</p></li>
<li><p>En un estudio experimental, donde se compara la eficacia de un fármaco frente a un placebo, el tamaño de la muestra debe ser suficiente para detectar una “diferencia significativa” entre los grupos.</p></li>
</ul>
<p>Cuando el objetivo de la investigación incluye la estimación de un intervalo de confianza (IC) para alguna variable, se busca que dicho IC tenga alta confiabilidad y sea lo más estrecho posible.</p>
<p>En el caso de los estudios de corte transversal, que se orientan a estimar una proporción, se formulan preguntas como:<br>
— ¿Cuál es la prevalencia, proporción o porcentaje del fenómeno en estudio?</p>
<p>Al tomar una muestra para estimar lo que sucede en la realidad, debemos aceptar que la medición obtenida reflejará la situación poblacional, pero siempre con cierto grado de variabilidad (o error). La <strong>precisión</strong> es ese grado de variabilidad aceptable y se expresa a través de los intervalos de confianza, que definen los límites inferior y superior dentro de los cuales se espera encontrar el verdadero valor del parámetro.</p>
</section><section id="cálculo-del-tamaño-muestral" class="level2"><h2 class="anchored" data-anchor-id="cálculo-del-tamaño-muestral">Cálculo del tamaño muestral</h2>
<p>Como se mencionó en la <a href="../unidad_2/est_transversales.html"><strong>sección anterior</strong></a>, se requiere conocer algunos datos para el cálculo del tamaño de muestra requerido, entre los que destacan:</p>
<ul>
<li><p><strong>La proporción esperada del evento:</strong> Aunque resulte paradójico, ya que es el parámetro que se desea estimar, el investigador suele contar con información previa que permite delimitar sus posibles valores. Si no fuera el caso, se utiliza el peor escenario, es decir, una proporción del 50%, ya que este valor maximiza el producto <span class="math inline">\(p(1-p)\)</span> y, por ende, exige el mayor tamaño muestral. De esta forma, muchas veces se recurre a esto para tener al menos una idea del “límite superior” que estaríamos manejando.</p></li>
<li><p><strong>El nivel de confianza deseado:</strong> Habitualmente se emplea un 95% (lo que equivale a un <span class="math inline">\(\alpha\)</span> de 0.05). Este valor indica la probabilidad de que el intervalo calculado contenga el parámetro poblacional verdadero. A mayor nivel de confianza (es decir, menor <span class="math inline">\(\alpha\)</span>), mayor es el coeficiente de confiabilidad y, por ende, mayor el tamaño muestral requerido.</p></li>
<li><p><strong>La precisión (</strong><span class="math inline">\(\delta\)</span><strong>) deseada:</strong> Se refiere a la amplitud aceptable del intervalo de confianza. Cuanta más precisión se exija (es decir, un intervalo más estrecho), mayor será el tamaño de la muestra necesario.</p></li>
</ul>
<p>La fórmula para el cálculo es la siguiente:</p>
<p><span class="math display">\[
N = \frac{p.q.(Z\alpha)^2}{\delta^2}
\]</span> Donde:</p>
<ul>
<li>
<span class="math inline">\(N\)</span> es el tamaño muestra requerido.</li>
<li>
<span class="math inline">\(p\)</span> es la proporción esperada de sujetos portadores del evento.</li>
<li>
<span class="math inline">\(q = 1 – p\)</span> es la proporción complementaria (sujetos que no tienen la variable en estudio).</li>
<li>
<span class="math inline">\(\delta\)</span> es la precisión o magnitud de error aceptable.</li>
<li>
<span class="math inline">\(Z\alpha\)</span> es el valor crítico de la distribución normal asociado al nivel de significancia. Se obtiene de tablas de distribución normal de probabilidades y habitualmente se utiliza un valor <span class="math inline">\(\alpha\)</span> de 0.05, al que le corresponde un valor <span class="math inline">\(Z\)</span> de 1.96</li>
</ul>
<p>Cuando se conoce el tamaño de la población, es necesario aplicar una corrección por población finita:</p>
<p><span class="math display">\[
N =\frac{n^1}{1+\frac{n^1}{Población}}
\]</span> donde <span class="math inline">\(n^1\)</span> es el <span class="math inline">\(N\)</span> calculado con la ecuación anterior.</p>
<p>Es fundamental entender que el tamaño de la muestra dependerá de <span class="math inline">\(p\)</span> de <span class="math inline">\(\alpha\)</span> y de la precisión deseada, más que de la complejidad de la fórmula en sí. Existen numerosos softwares que calculan tamaños de muestra. Algunos están especializados en esta tarea (por ejemplo, <strong>EpiDat</strong>, <strong>EpiInfo</strong>, <strong>OpenEp</strong>i), mientras que otros lo incluyen como una opción dentro de un paquete más amplio de análisis. En el lenguaje R, funciones como <code><a href="https://rdrr.io/r/stats/power.prop.test.html">power.prop.test()</a></code> (para comparación de proporciones) y <code><a href="https://rdrr.io/r/stats/power.t.test.html">power.t.test()</a></code> (para pruebas de medias basadas en la distribución <span class="math inline">\(t\)</span> de Student) están incluidas en el paquete <code>stats</code>. Otros paquetes útiles incluyen <code>samplingbook</code> <span class="citation" data-cites="samplingbook">(<a href="#ref-samplingbook" role="doc-biblioref">Manitz et&nbsp;al. 2021</a>)</span>, <code>samplesize</code> , <code>pwr</code> <span class="citation" data-cites="pwr">(<a href="#ref-pwr" role="doc-biblioref">Champely 2020</a>)</span> y <code>epiR</code> <span class="citation" data-cites="epiR">(<a href="#ref-epiR" role="doc-biblioref">Stevenson y Sergeant 2025</a>)</span>.</p>
<p>A continuación, se presenta un ejemplo práctico utilizando la función <code><a href="https://www.samplingbook.manitz.org/reference/sample.size.prop.html">sample.size.prop()</a></code> del paquete <code>samplingbook</code>. Supongamos que queremos estimar la prevalencia de diabetes en una ciudad de 600,000 habitantes, donde estudios previos sugieren una prevalencia cercana al 10.2%. El objetivo es determinar el tamaño de la muestra en un muestreo aleatorio simple.</p>
<p>Comenzamos cargando el paquete requerido:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://www.samplingbook.manitz.org">samplingbook</a></span><span class="op">)</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Calculamos el tamaño muestral en base a los siguientes argumentos:</p>
<ul>
<li>
<strong>e</strong>: número positivo que especifica la precisión que es la mitad del ancho del intervalo de confianza</li>
<li>
<strong>p</strong>: proporción esperada de eventos con dominio entre los valores 0 y 1.</li>
<li>
<strong>N</strong>: número entero positivo para el tamaño de la población. El valor predeterminado es <code>Inf</code>, lo que significa que los cálculos se realizan sin <em>corrección de población finita</em>.</li>
<li>
<strong>level</strong>: nivel de confianza para los intervalos de confianza. El valor predeterminado es 95%.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://www.samplingbook.manitz.org/reference/sample.size.prop.html">sample.size.prop</a></span><span class="op">(</span>e <span class="op">=</span> <span class="fl">0.02</span>, P <span class="op">=</span> <span class="fl">0.102</span>, N <span class="op">=</span> <span class="fl">600000</span>, level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
sample.size.prop object: Sample size for proportion estimate
With finite population correction: N=6e+05, precision e=0.02 and expected proportion P=0.102

Sample size needed: 879</code></pre>
</div>
</div>
<p>El resultado, tras aplicar la corrección por población finita, indica que se requieren 879 sujetos en la muestra. Por simplicidad, es habitual considerar infinita a la población objetivo, ya que hacerlo así minimiza los riesgos estadísticos:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://www.samplingbook.manitz.org/reference/sample.size.prop.html">sample.size.prop</a></span><span class="op">(</span>e <span class="op">=</span> <span class="fl">0.02</span>, P <span class="op">=</span> <span class="fl">0.102</span>, N <span class="op">=</span> <span class="cn">Inf</span>, level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
sample.size.prop object: Sample size for proportion estimate
Without finite population correction: N=Inf, precision e=0.02 and expected proportion P=0.102

Sample size needed: 880</code></pre>
</div>
</div>
<p>Si se considera una población infinita, el tamaño muestral calculado es de 880 personas, apenas una unidad más, lo que demuestra que el ajuste por población finita en este caso es mínimo. En cambio, si no se conoce o no se confía en el valor de prevalencia y se opta por el peor escenario (<span class="math inline">\(p = 0.5\)</span>):</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://www.samplingbook.manitz.org/reference/sample.size.prop.html">sample.size.prop</a></span><span class="op">(</span>e <span class="op">=</span> <span class="fl">0.02</span>, P <span class="op">=</span> <span class="fl">0.5</span>, N <span class="op">=</span> <span class="fl">600000</span>, level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
sample.size.prop object: Sample size for proportion estimate
With finite population correction: N=6e+05, precision e=0.02 and expected proportion P=0.5

Sample size needed: 2392</code></pre>
</div>
</div>
<p>En este caso, el tamaño muestral aumenta considerablemente hasta 2392 unidades, lo que refleja un enfoque más conservador.</p>
<p>Además del cálculo del tamaño muestral, es esencial planificar la forma en que se seleccionarán los individuos. En estudios de corte transversal se debe realizar un muestreo probabilístico, ya que la técnica de muestreo influirá en los factores de expansión necesarios para generalizar los resultados a la población. Aunque el proceso de muestreo no se detalla en este curso, es vital considerarlo para garantizar la validez externa de la investigación.</p>
</section><section id="conceptos-generales-sobre-muestreo" class="level2"><h2 class="anchored" data-anchor-id="conceptos-generales-sobre-muestreo">Conceptos generales sobre muestreo</h2>
<p>Un muestreo se considera <strong>probabilístico</strong> cuando se cumplen dos condiciones fundamentales:</p>
<ul>
<li><p>Es posible conocer de antemano la probabilidad de selección que tiene cada elemento de la población.</p></li>
<li><p>Esta probabilidad es mayor que cero para todos los elementos.</p></li>
</ul>
<p>Solo con un muestreo probabilístico se puede medir el grado de precisión de las estimaciones realizadas, ya que se conocen las probabilidades de inclusión. Algunos de los métodos más usados son: Muestreo aleatorio simple, muestreo sistemático en fases, Muestreo aleatorio estratificado, muestreo por conglomerados, etc.</p>
<section id="muestreo-aleatorio-simple-mas" class="level3"><h3 class="anchored" data-anchor-id="muestreo-aleatorio-simple-mas">Muestreo aleatorio simple (MAS)</h3>
<p>En el MAS, cada elemento de la población tiene la misma probabilidad de ser seleccionado (es decir, es un método <strong>equiprobabilístico</strong>). La probabilidad de inclusión se expresa como:</p>
<p><span class="math display">\[
P = \frac{n}{N}
\]</span></p>
<p>donde:</p>
<ul>
<li><p><span class="math inline">\(n\)</span> es el tamaño de la muestra,</p></li>
<li><p><span class="math inline">\(N\)</span> es el tamaño de la población.</p></li>
</ul>
<p>Este método requiere contar con un listado completo de la población y se utiliza principalmente en poblaciones cerradas (por ejemplo, escuelas, cárceles, hospitales o muestras de laboratorio), donde los elementos pueden identificarse y numerarse fácilmente.</p>
</section><section id="muestreo-sistemático-ms" class="level3"><h3 class="anchored" data-anchor-id="muestreo-sistemático-ms">Muestreo sistemático (MS)</h3>
<p>El muestreo sistemático es un procedimiento alternativo al MAS, adecuado para la selección de muestras equiprobabilísticas de poblaciones organizadas según algún orden conocido. Sus ventajas incluyen no requerir necesariamente un listado completo de todas las unidades, lo que resulta útil, por ejemplo, para seleccionar a los usuarios que llegan a un servicio hospitalario durante un período determinado.</p>
<p>El procedimiento consiste en:</p>
<ol type="1">
<li><p>Asignar a cada elemento de la población un número del 1 a <span class="math inline">\(N\)</span>.</p></li>
<li>
<p>Calcular el intervalo de selección:</p>
<p><span class="math display">\[
k = \frac{N}{n}
\]</span></p>
</li>
<li><p>Seleccionar aleatoriamente un número <span class="math inline">\(r\)</span> entre 1 y <span class="math inline">\(k\)</span>.</p></li>
<li><p>Elegir los elementos que ocupan las posiciones: <span class="math inline">\(r, r+k, r + 2k,...\)</span>, es decir, la secuencia <span class="math inline">\(r, r+jk\)</span> con <span class="math inline">\(j = 0, 1, 2, \dots\)</span>.</p></li>
</ol>
<p>La probabilidad de ser seleccionado es igual que en el MAS</p>
<p><span class="math display">\[
P = \frac{n}{N}
\]</span></p>
</section><section id="muestreo-aleatorio-estratificado-mae" class="level3"><h3 class="anchored" data-anchor-id="muestreo-aleatorio-estratificado-mae">Muestreo aleatorio estratificado (MAE)</h3>
<p>Este método se emplea cuando la población puede dividirse en subgrupos o <strong>estratos</strong> que difieren en las características de interés (por ejemplo, edad, sexo o nivel socioeconómico). La idea es asegurar que cada estrato esté representado en la muestra. El proceso habitual consiste en:</p>
<ul>
<li><p>Elaborar listas separadas para cada estrato.</p></li>
<li><p>Seleccionar una submuestra de cada uno de ellos.</p></li>
</ul>
<p>La probabilidad de selección en cada estrato es:</p>
<p><span class="math display">\[
P \ estrato = \frac{n \ estrato}{N \ estrato}
\]</span></p>
<p>Si se aplica un muestreo proporcional, el tamaño de la muestra en cada estrato se calcula como:</p>
<p><span class="math display">\[
n \ estrato = n\frac{N \ estrato}{N}
\]</span></p>
<p>El objetivo es obtener una muestra cuya variabilidad interna se asemeje a la de la población, logrando que los estratos sean internamente homogéneos y heterogéneos entre sí.</p>
</section><section id="muestreo-por-conglomerados-monoetápico" class="level3"><h3 class="anchored" data-anchor-id="muestreo-por-conglomerados-monoetápico">Muestreo por conglomerados monoetápico</h3>
<p>El muestreo por conglomerados es ideal cuando la población es difícil de delimitar o está muy dispersa. Se divide la población en <strong>conglomerados</strong> (o grupos) que actúan como unidades de primera etapa (UPE) y no deben solaparse.</p>
<p>La población se divide en grupos (por ejemplo, áreas geográficas, instituciones o servicios). Se selecciona una muestra de <span class="math inline">\(n\)</span> conglomerados y se incluyen <strong>todos</strong> las unidades de análisis de los conglomerados seleccionados. El tamaño del conglomerado se refiere al número de unidades elementales que contiene, pudiendo ser de igual o distinto tamaño. Los conglomerados deberían ser lo más heterogéneos dentro de ellos y lo más homogéneos entre ellos.</p>
</section><section id="muestreo-por-conglomerados-bietápico" class="level3"><h3 class="anchored" data-anchor-id="muestreo-por-conglomerados-bietápico">Muestreo por conglomerados bietápico</h3>
<p>Se utiliza cuando existe gran variabilidad en el tamaño de los conglomerados o la población es muy grande. En este caso, después de dividir la población en conglomerados y seleccionar algunos de ellos como UPE, se realiza una subselección (muestreo secundario) de los elementos dentro de los conglomerados elegidos.</p>
<p>Existen más posibilidades, que no abordaremos aquí, pero sí nos detendremos en discutir qué implicaciones tiene el muestreo en el proceso de estimación.</p>
</section><section id="implicaciones-en-la-estimación-y-ponderación" class="level3"><h3 class="anchored" data-anchor-id="implicaciones-en-la-estimación-y-ponderación">Implicaciones en la Estimación y Ponderación</h3>
<p>En métodos equiprobabilísticos (como el MAS o el MS), cada elemento tiene la misma probabilidad de selección. Sin embargo, en diseños muestrales más complejos (como el muestreo estratificado o por conglomerados), las probabilidades de selección pueden variar entre individuos.</p>
<p>En estos casos, la probabilidad total de selección de un individuo es el producto de las probabilidades de selección en cada etapa del muestreo. Una vez conocida esta probabilidad, se calcula el peso (o <strong>factor de expansión</strong>) como su inverso. Este peso se interpreta como el número de individuos en la población que representa cada individuo de la muestra.</p>
<blockquote class="blockquote">
<p>El factor de expansión se interpreta como <em>la cantidad de personas en la población, que representa una persona en la muestra</em>.</p>
</blockquote>
<p>El factor de expansión se utiliza para extrapolar los resultados obtenidos en la muestra a la población total. Por ejemplo, para estimar un total poblacional para una variable, se pondera el valor medido en cada individuo por su factor de expansión y se suman dichos valores.</p>
</section></section><section id="ejemplo-práctico" class="level2"><h2 class="anchored" data-anchor-id="ejemplo-práctico">Ejemplo práctico</h2>
<p>Supongamos que queremos estimar la prevalencia de sobrepeso/obesidad en estudiantes de enseñanza media de una localidad. Se tiene la siguiente información:</p>
<ul>
<li><p><strong>Población total de alumnos:</strong> 966</p></li>
<li><p><strong>Número de escuelas (conglomerados):</strong> 21</p></li>
<li><p><strong>Tamaño de la muestra global (ya calculado):</strong> 120 alumnos</p></li>
</ul>
<p>Si se realizara un <strong>muestreo aleatorio simple (MAS)</strong>, se necesitaría disponer del listado completo de los 966 alumnos y, mediante un sorteo, seleccionar 120 individuos. En ese caso, la probabilidad de selección para cada alumno sería:</p>
<p><span class="math display">\[
P = \frac{n}{N} = \frac{120}{966}=0,124
\]</span></p>
<p>Supongamos ahora que decide realizar un muestreo por conglomerados biétapico. Cada escuela se considera un conglomerado; se seleccionan 10 de las 21 escuelas por MAS y, dentro de cada escuela seleccionada, se elige una submuestra de estudiantes también mediante MAS. Se decide que el número de estudiantes elegidos en cada conglomerado sea igual para todos.</p>
<p>Los datos globales quedan de la siguiente forma:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="lightable-paper caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Población</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Muestra</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Tamaño total</td>
<td style="text-align: right;">966</td>
<td style="text-align: right;">120</td>
</tr>
<tr class="even">
<td style="text-align: left;">Número de conglomerados</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">10</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>La decisión de cuántos conglomerados forman parte de la muestra, es una decisión del investigador: a veces puede ser necesario fijar un número, a veces puede ser más conveniente fijar el tamaño de la muestra en cada conglomerado. Por otra parte, puede que decidamos que el número de sujetos seleccionados en cada conglomerado sea igual para todos; que sea una fracción fija o algo a definir.</p>
<p>Dentro de los conglomerados seleccionados, se obtiene la siguiente distribución (en este ejemplo, la suma de los tamaños de los conglomerados seleccionados es 480 y en cada uno se eligen 12 alumnos):</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="lightable-paper caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Conglomerado</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Tamaño</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Muestra</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">5.1</td>
<td style="text-align: left;">48</td>
<td style="text-align: left;">12</td>
</tr>
<tr class="even">
<td style="text-align: left;">1.3</td>
<td style="text-align: left;">28</td>
<td style="text-align: left;">12</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2.3</td>
<td style="text-align: left;">64</td>
<td style="text-align: left;">12</td>
</tr>
<tr class="even">
<td style="text-align: left;">2.2</td>
<td style="text-align: left;">43</td>
<td style="text-align: left;">12</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3.1</td>
<td style="text-align: left;">37</td>
<td style="text-align: left;">12</td>
</tr>
<tr class="even">
<td style="text-align: left;">5.3</td>
<td style="text-align: left;">86</td>
<td style="text-align: left;">12</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1.4</td>
<td style="text-align: left;">37</td>
<td style="text-align: left;">12</td>
</tr>
<tr class="even">
<td style="text-align: left;">3.3</td>
<td style="text-align: left;">56</td>
<td style="text-align: left;">12</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2.4</td>
<td style="text-align: left;">48</td>
<td style="text-align: left;">12</td>
</tr>
<tr class="even">
<td style="text-align: left;">1.5</td>
<td style="text-align: left;">33</td>
<td style="text-align: left;">12</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Total</td>
<td style="text-align: left; font-weight: bold;">480</td>
<td style="text-align: left; font-weight: bold;">120</td>
</tr>
</tbody>
</table>
</div>
</div>
<section id="cálculo-de-las-probabilidades-de-selección-y-ponderaciones" class="level3"><h3 class="anchored" data-anchor-id="cálculo-de-las-probabilidades-de-selección-y-ponderaciones">Cálculo de las Probabilidades de Selección y Ponderaciones</h3>
<p>Para que un individuo sea seleccionado en este diseño, debe ocurrir primero que su conglomerado sea escogido y, posteriormente, que él sea seleccionado dentro de ese conglomerado. Si asumimos que:</p>
<blockquote class="blockquote">
<p><em>“Dos sucesos son independientes si la probabilidad de que ocurran ambos simultáneamente es igual al producto de las probabilidades de que ocurra cada uno de ellos”</em>.</p>
</blockquote>
<p>La probabilidad total de selección es el producto de:</p>
<ol type="1">
<li>
<p>La probabilidad de que el conglomerado sea seleccionado:</p>
<p><span class="math display">\[
P_{conglomerado} = \frac{10}{21}
\]</span></p>
</li>
<li>
<p>La probabilidad de que un individuo sea seleccionado dentro de su conglomerado:</p>
<p><span class="math display">\[
P_{dentro} = \frac{N°~alumnos~en~la~muestra~del~conglomerado}{Tamaño~del~conglomerado}
\]</span></p>
</li>
</ol>
<p>Para los individuos del conglomerado 5.1; la probabilidad de selección será:</p>
<p><span class="math display">\[
P_{5.1} = \frac{10}{21}*\frac{12}{48} \approx 0,1190 \quad (11.9\%)
\]</span></p>
<p>La ponderación o <strong>factor de expansión</strong> se obtiene como el inverso de la probabilidad de selección:</p>
<p><span class="math display">\[
w = \frac{1}{P}
\]</span></p>
<p>Es decir:</p>
<p><span class="math display">\[
w_{5.1} = \frac{1}{1.190} \approx 8.4
\]</span></p>
<p>Esto significa que cada alumno seleccionado del conglomerado 5.1 representa aproximadamente a 8 alumnos de la población.</p>
<p>Si se realizan los cálculos para cada uno de los conglomerados, se obtiene la siguiente tabla:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="lightable-paper caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Conglomerado</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Probabilidad</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Ponderación</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">5.1</td>
<td style="text-align: left;">11.90</td>
<td style="text-align: left;">8.40</td>
</tr>
<tr class="even">
<td style="text-align: left;">1.3</td>
<td style="text-align: left;">20.41</td>
<td style="text-align: left;">4.90</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2.3</td>
<td style="text-align: left;">8.93</td>
<td style="text-align: left;">11.20</td>
</tr>
<tr class="even">
<td style="text-align: left;">2.2</td>
<td style="text-align: left;">13.29</td>
<td style="text-align: left;">7.53</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3.1</td>
<td style="text-align: left;">15.44</td>
<td style="text-align: left;">6.48</td>
</tr>
<tr class="even">
<td style="text-align: left;">5.3</td>
<td style="text-align: left;">6.65</td>
<td style="text-align: left;">15.05</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1.4</td>
<td style="text-align: left;">15.44</td>
<td style="text-align: left;">6.48</td>
</tr>
<tr class="even">
<td style="text-align: left;">3.3</td>
<td style="text-align: left;">10.20</td>
<td style="text-align: left;">9.80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2.4</td>
<td style="text-align: left;">11.90</td>
<td style="text-align: left;">8.40</td>
</tr>
<tr class="even">
<td style="text-align: left;">1.5</td>
<td style="text-align: left;">17.32</td>
<td style="text-align: left;">5.78</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Cada individuo seleccionado en el estudio tiene una probabilidad de inclusión que depende tanto de la probabilidad de que su escuela (conglomerado) sea seleccionada como de la probabilidad de que él sea elegido dentro de su escuela. La ponderación resultante (el inverso de esta probabilidad) se utiliza para “expandir” el resultado del estudio, de manera que cada alumno en la muestra represente a un número determinado de alumnos en la población total.</p>
<p>Por ejemplo, en el conglomerado 5.1, cada alumno seleccionado representa aproximadamente a 8 alumnos de la población. De este modo, al calcular la prevalencia de sobrepeso/obesidad en la muestra, se aplican estos factores de expansión para obtener estimaciones que sean representativas de los 966 alumnos de la localidad.</p>
<p>Este proceso es fundamental en estudios basados en muestreos complejos, ya que permite corregir posibles diferencias en las probabilidades de selección y garantizar que las estimaciones sean válidas y precisas para toda la población.</p>
<div class="hidden">
<p><span class="citation" data-cites="hernández-ávila2011">Hernández-Ávila (<a href="#ref-hern%C3%A1ndez-%C3%A1vila2011" role="doc-biblioref">2011</a>)</span></p>
<p><span class="citation" data-cites="daniel2002">Daniel (<a href="#ref-daniel2002" role="doc-biblioref">2002</a>)</span></p>
<p><span class="citation" data-cites="rodríguez2018">M. Rodríguez y Mendivelso (<a href="#ref-rodr%C3%ADguez2018" role="doc-biblioref">2018</a>)</span></p>
<p><span class="citation" data-cites="ríusdíaz2012">Ríus Díaz et&nbsp;al. (<a href="#ref-r%C3%ADusd%C3%ADaz2012" role="doc-biblioref">2012</a>)</span></p>
<p><span class="citation" data-cites="triola2018">Triola (<a href="#ref-triola2018" role="doc-biblioref">2018</a>)</span></p>
<p><span class="citation" data-cites="caceres2007">Cáceres, Rafael Álvarez (<a href="#ref-caceres2007" role="doc-biblioref">2007</a>)</span></p>
<p><span class="citation" data-cites="normangr1996">Norman, GR y Streiner, DL (<a href="#ref-normangr1996" role="doc-biblioref">1996</a>)</span></p>
<p><span class="citation" data-cites="glantzs2006">Glantz, S (<a href="#ref-glantzs2006" role="doc-biblioref">2006</a>)</span></p>
<p><span class="citation" data-cites="vonelm2008">Elm et&nbsp;al. (<a href="#ref-vonelm2008" role="doc-biblioref">2008</a>)</span></p>
<p><span class="citation" data-cites="schulz2010">Schulz et&nbsp;al. (<a href="#ref-schulz2010" role="doc-biblioref">2010</a>)</span></p>
<p><span class="citation" data-cites="field2014">Field, Miles, y Field (<a href="#ref-field2014" role="doc-biblioref">2014</a>)</span></p>
<p><span class="citation" data-cites="rodríguez2003">V. Rodríguez et&nbsp;al. (<a href="#ref-rodr%C3%ADguez2003" role="doc-biblioref">2003</a>)</span></p>
<p><span class="citation" data-cites="epidat4"><span>«EPIDAT 4.2 - Consellería de Sanidade - Servizo Galego de Saúde»</span> (<a href="#ref-epidat4" role="doc-biblioref">s.&nbsp;f.</a>)</span></p>
</div>



</section></section><a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Volver arriba</a><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Referencias</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-caceres2007" class="csl-entry" role="listitem">
Cáceres, Rafael Álvarez. 2007. <em>Estadística aplicada a las ciencias de la salud</em>. Ediciones Díaz de Santos.
</div>
<div id="ref-pwr" class="csl-entry" role="listitem">
Champely, Stephane. 2020. <span>«pwr: Basic Functions for Power Analysis»</span>. <a href="https://CRAN.R-project.org/package=pwr">https://CRAN.R-project.org/package=pwr</a>.
</div>
<div id="ref-daniel2002" class="csl-entry" role="listitem">
Daniel, Wayne W. 2002. <em>Bioestadística: Base para el análisis de las ciencias de la salud</em>. 4.ª ed. Limusa Wiley.
</div>
<div id="ref-vonelm2008" class="csl-entry" role="listitem">
Elm, Erik von, Douglas G. Altman, Matthias Egger, Stuart J. Pocock, Peter C. Gøtzsche, Jan P. Vandenbroucke, y STROBE Initiative. 2008. <span>«The Strengthening the Reporting of Observational Studies in Epidemiology (STROBE) statement: guidelines for reporting observational studies»</span>. <em>Journal of Clinical Epidemiology</em> 61 (4): 344-49. <a href="https://doi.org/10.1016/j.jclinepi.2007.11.008">https://doi.org/10.1016/j.jclinepi.2007.11.008</a>.
</div>
<div id="ref-epidat4" class="csl-entry" role="listitem">
<span>«EPIDAT 4.2 - Consellería de Sanidade - Servizo Galego de Saúde»</span>. s.&nbsp;f. <a href="https://www.sergas.es/Saude-publica/EPIDAT-4-2">https://www.sergas.es/Saude-publica/EPIDAT-4-2</a>.
</div>
<div id="ref-field2014" class="csl-entry" role="listitem">
Field, Andy, Jeremy Miles, y Zoë Field. 2014. <em>Discovering statistics using R</em>. Repr. Los Angeles, CA, USA: Sage.
</div>
<div id="ref-glantzs2006" class="csl-entry" role="listitem">
Glantz, S. 2006. <em>Bioestadística</em>. 6.ª ed. Mexico: McGraw Hill.
</div>
<div id="ref-hernández-ávila2011" class="csl-entry" role="listitem">
Hernández-Ávila, Mauricio. 2011. <em>Epidemiología: diseño y análisis de estudios</em>. Buenos Aires: Editorial Médica Panamericana.
</div>
<div id="ref-samplingbook" class="csl-entry" role="listitem">
Manitz, Juliane, Mark Hempelmann, Goeran Kauermann, Helmut Kuechenhoff, Shuai Shao, Cornelia Oberhauser, Nina Westerheide, y Manuel Wiesenfarth. 2021. <span>«samplingbook: Survey Sampling Procedures»</span>. <a href="https://CRAN.R-project.org/package=samplingbook">https://CRAN.R-project.org/package=samplingbook</a>.
</div>
<div id="ref-normangr1996" class="csl-entry" role="listitem">
Norman, GR, y Streiner, DL. 1996. <em>Bioestadística</em>. Madrid: Mosby/Doyma Libros.
</div>
<div id="ref-ríusdíaz2012" class="csl-entry" role="listitem">
Ríus Díaz, Francisca, Francisco Javier Barón Lopez, Elisa Sánchez Font, y Luis Parras Guijosa. 2012. <span>«Bioestadística: Métodos y Aplicaciones»</span>. <a href="http://virtual.uptc.edu.co/ova/estadistica/docs/libros/ftp.bioestadistica.uma.es/libro/">http://virtual.uptc.edu.co/ova/estadistica/docs/libros/ftp.bioestadistica.uma.es/libro/</a>.
</div>
<div id="ref-rodríguez2018" class="csl-entry" role="listitem">
Rodríguez, Milena, y Fredy Mendivelso. 2018. <span>«Diseño de investigación de corte transversal»</span>. <em>Revista Médica Sanitas</em> 21 (3): 141-47. <a href="https:////revistas.unisanitas.edu.co/index.php/rms/article/view/368">//revistas.unisanitas.edu.co/index.php/rms/article/view/368</a>.
</div>
<div id="ref-rodríguez2003" class="csl-entry" role="listitem">
Rodríguez, VM, Verónica A Martínez Ordaz, José Roiz Hernández, Francisco Huazano García, y Armando Nieves Rentería. 2003. <span>«Muestreo y tamaño de la muestra»</span>. <em>Una guía práctica. Coahuila, México: El Cid Editor</em>.
</div>
<div id="ref-schulz2010" class="csl-entry" role="listitem">
Schulz, K. F, D. G Altman, D. Moher, y for the CONSORT Group. 2010. <span>«CONSORT 2010 Statement: Updated Guidelines for Reporting Parallel Group Randomised Trials»</span>. <em>BMJ</em> 340 (mar23 1): c332-32. <a href="https://doi.org/10.1136/bmj.c332">https://doi.org/10.1136/bmj.c332</a>.
</div>
<div id="ref-epiR" class="csl-entry" role="listitem">
Stevenson, Mark, y Evan Sergeant. 2025. <span>«epiR: Tools for the Analysis of Epidemiological Data»</span>. <a href="https://CRAN.R-project.org/package=epiR">https://CRAN.R-project.org/package=epiR</a>.
</div>
<div id="ref-triola2018" class="csl-entry" role="listitem">
Triola, Mario F. 2018. <em>ESTADÍSTICA Decimosegunda Edicion</em>. Pearson Educación de México, SA de CV.
</div>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reutilización</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/deed.es">CC BY-NC 4.0</a></div></div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/datos-ine\.github\.io\/curso_avanzada_2025\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Este material es parte del curso de Epidemiología - Nivel Avanzado © 2025 Instituto Nacional de Epidemiología “Dr.&nbsp;Juan H. Jara” (ANLIS)</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>


</body></html>